{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="page-holder bg-light">
    <div class="container">
        <section class="py-5">
            <div class="container">
                <div class="row mb-5">
                    <div class="col-lg-6">
                        <!-- PRODUCT SLIDER -->
                        <div class="row m-sm-0">
                            <div class="col-sm-10 order-1 order-sm-2">
                                <div class="owl-carousel product-slider owl-loaded owl-drag" data-slider-id="1">
                                    <div class="owl-stage-outer">
                                        <div class="owl-stage" style="width: 1680px;">
                                            {% if watch.image %}
                                            <div class="owl-item active" style="width: 420px;"><a class="d-block"
                                                    href="../media/product-detail-1.jpg" data-lightbox="product"
                                                    title="Product item 1"><img class="img-fluid"
                                                        src="{{ watch.image.url }}" alt="{{ watch.name }}">
                                                </a>
                                            </div>
                                            {% else %}
                                            <div class="owl-item active" style="width: 420px;"><a class="d-block"
                                                    href="../media/product-detail-1.jpg" data-lightbox="product"
                                                    title="Product item 1"><img class="img-fluid"
                                                        src="{{ MEDIA_URL }}noimage.png" alt="{{ watch.name }}">
                                                </a>
                                            </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                    <div class="owl-dots">
                                        <div class="owl-dot active"><span></span></div>
                                        <div class="owl-dot"><span></span></div>
                                        <div class="owl-dot"><span></span></div>
                                        <div class="owl-dot"><span></span></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- WATCH DETAILS -->
                    <div class="col-lg-6">
                        <!-- Rating -->
                        <ul class="list-inline mb-2">
                            {% if watch.rating %}
                            <li class="list-inline-item m-0 text-muted"><i class="fas fa-star small text-warning">
                                    {{ watch.rating }} / 10</i>
                            
                            </li>
                            {% else %}
                            <li class="list-inline-item m-0"><i class="fas fa-star small text-danger"> No Rating</i></li>
                            {% endif %}
                        </ul>
                        <!--end of Rating  -->
                        <h1>{{ watch.name }}</h1>
                        <p class="text-muted lead">Â£{{ watch.price }}</p>
                        <p class="text-small mb-4">{{ watch.description }}</p>
                        <!-- FORM TO ADD ITEM -->
                        <form class="form" action="{% url 'add_to_shoppingcart' watch.id %}" method="POST">
                            {% csrf_token %}
                            <div class="row align-items-stretch mb-4">
                                <!-- QUANTITY SELECTOR -->
                                <div class="col-sm-5 pr-sm-0">
                                    <div class="border d-flex align-items-center justify-content-between py-1 px-3 bg-white border-white">
                                        <span class="small text-uppercase text-gray mr-4 no-select">Quantity</span>
                                        <div class="quantity">
                                            <button class="dec-btn p-0 decrement-qty" data-item_id="{{ watch.id }}"
                                                id="decrement-qty_{{ watch.id }}"><i
                                                    class="fas fa-caret-left"></i></button>
                                            <input class="form-control qty_input border-0 shadow-0 p-0" type="number"
                                                value="1" min="1" max="99" name="quantity" data-item_id="{{ watch.id }}"
                                                id="id_qty_{{ watch.id }}">
                                            <button class="inc-btn p-0 increment-qty" data-item_id="{{ watch.id }}"
                                                id="increment-qty_{{ watch.id }}"><i
                                                    class="fas fa-caret-right"></i></button>
                                        </div>
                                    </div>
                                </div>
                                <!-- END OF QUANTITY SELECTOR -->
                                <div class="col-sm-3 pl-sm-0">
                                    <input type="submit"
                                        class="btn btn-dark btn-sm btn-block h-100 d-flex align-items-center justify-content-center px-0"
                                        value="Add to Bag">
                                </div>
                                <input type="hidden" name="redirect_url" value="{{ request.path }}">
                                <!-- END OF FORM TO ADD ITEM -->
                            </div>
                        </form>
                        {% if request.user.is_superuser %}
                        <div class="row m-1">
                            <a class="btn btn-sm btn-outline-dark" href="{% url 'edit_watch' watch.id %}">
                                Edit <i class="far fa-edit"></i>
                            </a>
                            <a class="btn btn-sm btn-outline-dark" href="{% url 'delete_watch' watch.id %}">
                                Delete <i class="fas fa-trash"></i>
                            </a>                          
                        </div>
                        {% endif %}
                        <br>
                        <ul class="list-unstyled small d-inline-block">
                            <li class="px-3 py-2 mb-1 bg-white"><strong class="text-uppercase">SKU:</strong><span
                                    class="ml-2 text-muted">{{ watch.sku }}</span>
                            </li>
                            <li class="px-3 py-2 mb-1 bg-white text-muted"><strong
                                    class="text-uppercase text-dark">Brand:</strong><a class="reset-anchor ml-2"
                                    href="#">{{ watch.brand.friendly_name }}</a>
                            </li>
                            <li class="px-3 py-2 mb-1 bg-white text-muted"><strong
                                    class="text-uppercase text-dark">Category:</strong><a class="reset-anchor ml-2"
                                    href="#">{{ watch.category.friendly_name }}</a>
                            </li>
                        </ul>
                    </div>
                              <ul class="nav nav-tabs border-0" id="myTab" role="tablist">
                    <li class="nav-item"><a class="nav-link active" id="description-tab" data-toggle="tab"
                            href="#description" role="tab" aria-controls="description"
                            aria-selected="true">Description</a></li>
                    <li class="nav-item"><a class="nav-link" id="reviews-tab" data-toggle="tab" href="#reviews"
                            role="tab" aria-controls="reviews" aria-selected="false">Reviews</a></li>
                </ul>
                <div class="tab-content mb-5" id="myTabContent">
                    <div class="tab-pane fade show active" id="description" role="tabpanel"
                        aria-labelledby="description-tab">
                        <div class="p-4 p-lg-5 bg-white">
                            <h6 class="text-uppercase">Product description </h6>
                            <p class="text-muted text-small mb-0">Lorem ipsum dolor sit amet, consectetur adipisicing
                                elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
                                minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                                consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore
                                eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa
                                qui officia deserunt mollit anim id est laborum.</p>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
                        <div class="p-4 p-lg-5 bg-white">
                            <div class="row">
                                <div class="col-lg-8">
                                    <div class="media mb-3"><img class="rounded-circle"
                                            src="img/customer-1.2909e6e3.png" alt="" width="50">
                                        <div class="media-body ml-3">
                                            <h6 class="mb-0 text-uppercase">Jason Doe</h6>
                                            <p class="small text-muted mb-0 text-uppercase">20 May 2020</p>
                                            <ul class="list-inline mb-1 text-xs">
                                                <li class="list-inline-item m-0"><i
                                                        class="fas fa-star text-warning"></i></li>
                                                <li class="list-inline-item m-0"><i
                                                        class="fas fa-star text-warning"></i></li>
                                                <li class="list-inline-item m-0"><i
                                                        class="fas fa-star text-warning"></i></li>
                                                <li class="list-inline-item m-0"><i
                                                        class="fas fa-star text-warning"></i></li>
                                                <li class="list-inline-item m-0"><i
                                                        class="fas fa-star-half-alt text-warning"></i></li>
                                            </ul>
                                            <p class="text-small mb-0 text-muted">Lorem ipsum dolor sit amet,
                                                consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore
                                                et dolore magna aliqua.</p>
                                        </div>
                                    </div>
                                    <div class="media"><img class="rounded-circle" src="img/customer-2.f49623e8.png"
                                            alt="" width="50">
                                        <div class="media-body ml-3">
                                            <h6 class="mb-0 text-uppercase">Jason Doe</h6>
                                            <p class="small text-muted mb-0 text-uppercase">20 May 2020</p>
                                            <ul class="list-inline mb-1 text-xs">
                                                <li class="list-inline-item m-0"><i
                                                        class="fas fa-star text-warning"></i></li>
                                                <li class="list-inline-item m-0"><i
                                                        class="fas fa-star text-warning"></i></li>
                                                <li class="list-inline-item m-0"><i
                                                        class="fas fa-star text-warning"></i></li>
                                                <li class="list-inline-item m-0"><i
                                                        class="fas fa-star text-warning"></i></li>
                                                <li class="list-inline-item m-0"><i
                                                        class="fas fa-star-half-alt text-warning"></i></li>
                                            </ul>
                                            <p class="text-small mb-0 text-muted">Lorem ipsum dolor sit amet,
                                                consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore
                                                et dolore magna aliqua.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                </div>
            </div>
        </section>
    </div>
</div>

{% endblock %}

{% block postloadjs %}
{{ block.super }}
    <script src="{% static 'watches/js/quantity_input.js' %}"></script>
{% endblock %} 